## 多路查找树

每一个结点的孩子数可以多于两个，且每个结点处可以存储多个元素

所有元素之间存在某种特定的排序关系

B树是多路查找树的特例



## B-树

### 1. 出现

​	二叉排序树 (包括平衡二叉树) 相对于线性表 **能提高查找效率** 

​	但也存在以下缺点，随着数据的频繁插入和删除，树中某些分支会变得很长，增加了树高，**影响查找效率**，对于存放在存储区上的大量容器，每次进行查找和维护时，在找到所需要的关键字之前，至少要访问外存 log~2~n 次，这是需要很多时间的. **二叉排序树不能满足对大容器大容量数据操作的要求**

B-树是一种多路平衡查找树(非二叉树) , **其特点是插入和删除是易于平衡, 外查找效率高**

应用: 适用于组织磁盘文件的动态索引结构，在文件系统中得到广泛的应用

### 2. 概念

#### a. 定义

**B-树的阶** : B-树中所有结点的子树数目的最大值, 通常用 m 表示 (从查找效率考虑, 要求 m >= 3)

> 如果 m = 2, 那么就是常见的二叉搜索树

#### b. 性质

1. 根结点至少有两个孩子
2. 每个中间结点都包含 k - 1 个元素和 k 个孩子，其中 ⌈m/2⌉ <= k <= m
3. 每一个叶子结点都包含 k-1 个元素，其中⌈m/2⌉ <= k <= m
4. 所有的叶子结点都位于同一层。
5. 每个结点中的元素从小到大排列，结点当中 k-1 个元素正好是 k 个孩子包含的元素的值域分划。

#### c. 性质解读

如图为 阶数为 4的B树

![B-树举例](C:\Users\zn\Desktop\ALL\秋招\总复习\数据结构与算法\数据结构\图片\树\B树\B-树举例.png)

性质一: 没有什么好解释的

性质二: m = 4, 中间结点最少有 1个元素, 最多有 3个元素, 最少有 2个孩子, 最多有 4个孩子(红色位置出可存孩子)

性质三: 每个叶子结点最最少为 1个孩子, 最多为 3个孩子

性质五: 看图

### 3.B-树的插入与删除

见 [B树和B+树的插入、删除图文详解](https://www.cnblogs.com/nullzx/p/8729425.html)



## B+ 树

### 概念

B+ 树是基于 B- 树的一种变体, 有着比 B- 树更高的查询性能

### B+树新性质

1. 有 k 个子树的中间结点包含有 k 个元素（B树中是 k-1 个元素），每个元素不保存数据，只用来索引，所有数据都保存在叶子结点。
2. 所有的叶子结点中包含了全部元素的信息，及指向含这些元素记录的指针，且叶子结点本身依关键字的大小自小而大顺序链接。
3. 所有的中间结点元素都同时存在于子结点，在子结点元素中是最大（或最小）元素。

#### 性质解读

如图: 

![B+树举例](C:\Users\zn\Desktop\ALL\秋招\总复习\数据结构与算法\数据结构\图片\树\B+树\B+树举例.png)

### 3.B-树的插入与删除

见 [B树和B+树的插入、删除图文详解](https://www.cnblogs.com/nullzx/p/8729425.html)

### B+树的优势

1. 单一结点存储更多的元素，使得查询的IO次数更少。
2. 所有查询都要查找到叶子结点，查询性能稳定。
3. 所有叶子结点形成有序链表，便于范围查询



------

##### 参考文章

​	[漫画：什么是B-树？](https://mp.weixin.qq.com/s?__biz=MzI2NjA3NTc4Ng==&mid=2652079363&idx=1&sn=7c2209e6b84f344b60ef4a056e5867b4&chksm=f1748ee6c60307f084fe9eeff012a27b5b43855f48ef09542fe6e56aab6f0fc5378c290fc4fc#rd)

​	[漫画：什么是B+树？](https://mp.weixin.qq.com/s?__biz=MzI2NjA3NTc4Ng==&mid=2652079392&idx=1&sn=6eb4012f9652749f0317ff32bf1df0cf&chksm=f1748ec5c60307d350c7eef45c30238e98c5bf66b4e046caf63c3f01d8ba780822c5af7dc53e#rd)

​	[B树和B+树的插入、删除图文详解](https://www.cnblogs.com/nullzx/p/8729425.html)