## 题目42 — 连续子数组的最大和

输入一个 **非空** 整型数组，数组里的数可能为正，也可能为负。

数组中一个或连续的多个整数组成一个子数组。

求所有子数组的和的最大值。

要求时间复杂度为 *O*(*n*)。

**样例：**

输入：`[1, -2, 3, 10, -4, 7, 2, -5]`

输出：18

### 答案

#### 思路

1. 定义状态: dp[i] 为数组 [0…i]中的最大和, 一定包含dp[i]

   > 注意是连续子数组, 所以必须包含最后一个元素, 否则就断了

2. 定义输出: dp[]中最大的值

3. 状态转移方程:  `dp[i] = dp[i - 1] >= 0 ? dp[i - 1] + nums[i] : nums[i]`

###### 代码

```java
public class Pro42 {
    public int FindGreatestSumOfSubArray(int[] array) {
        int[] dp = Arrays.copyOf(array, array.length);

        int res = dp[0];
        for (int i = 1; i < array.length; i++) {
            dp[i] = dp[i - 1] >= 0 ? dp[i - 1] + array[i] : array[i];
            res = Math.max(dp[i], res);
        }
        return res;
    }
}
```



